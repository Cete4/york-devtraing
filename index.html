<!DOCTYPE html>
<html lang="en">

<!--I used bootstrap to create a nice visual look to the page without having to hand code everything myself-->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <title>Micah BigEagle</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<!--Body-->
<!---->

<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-4">
                <form>
                    <div class="form-group">
                        <label for="userid">User ID</label>
                        <input type="text" class="form-control" id="userid" placeholder="User123">
                    </div>
                    <div class="form-group">
                        <label for="fname">First Name</label>
                        <input type="text" class="form-control" id="fname" placeholder="Jane">
                    </div>
                    <div class="form-group">
                        <label for="lname">First Name</label>
                        <input type="text" class="form-control" id="lname" placeholder="Doe">
                    </div>
                </form>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <label for="start">Birthday</label>
                <input type="date" name="trip-start" value="1990-01-01" min="1900-01-01" max="2040-01-01" id="bday">
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <button type="button" class="btn btn-primary" id="accept" onclick="validate()">Accept</button>
                <br>
            </div>
        </div>

        <div class="row">
            <div class="col-4">

            </div>
            <div class="col-4" id="results">

            </div>
            <div class="col-4">
            </div>
        </div>

        <div class="row">
            <div class="col-12" id="print">
            </div>
        </div>
    </div>


    <script>
        function validate() {
            document.getElementById("print").innerHTML = "";
            document.getElementById("results").innerHTML = "";
            let userid = document.getElementById("userid").value;
            let fname = document.getElementById("fname").value;
            let lname = document.getElementById("lname").value;
            let bday = document.getElementById("bday").valueAsDate;
            let x = "";

            // New code using better if statements

            if (userid == "" || userid == null) {
                document.getElementById("results").appendChild(document.createTextNode("Not a valid User ID"))
                return;
            }
            if (userid.length < 8 || userid.length > 12) {
                document.getElementById("results").appendChild(document.createTextNode("YOur User ID is not between 8-12 characters."))
                return;
            }

            const capitals = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];
            const lowers = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];
            const nums = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"]

            if (!capitals.some(v => userid.includes(v))) {
                document.getElementById("results").appendChild(document.createTextNode("Your User ID requires a capital letter."))
                document.getElementById("results").appendChild(document.createElement('br'));
            }

            if (!lowers.some(v => userid.includes(v))) {
                document.getElementById("results").appendChild(document.createTextNode("Your User ID requires a lowercase letter."))
                document.getElementById("results").appendChild(document.createElement('br'));
            }

            if (!nums.some(v => userid.includes(v))) {
                document.getElementById("results").appendChild(document.createTextNode("Your User ID requires a number."))
                document.getElementById("results").appendChild(document.createElement('br'));
            }



            // // Old code form before
            //     for (let i = 0; i < 20; i++) {
            //         if (userid.charAt(i) >= '0' && userid.charAt(i) <= '9') {
            //             num = true;
            //         } else if (userid.charAt(i) == userid.charAt(i).toUpperCase()) {
            //             upper = true;
            //         } else if (userid.charAt(i) == userid.charAt(i).toLowerCase()) {
            //             lower = true;
            //         }
            //     }

                if (upper && lower && num == true) {
                    document.getElementById("results").appendChild(document.createTextNode(userid + " is your official UserID. "));
                } else {
                    document.getElementById("results").appendChild(document.createTextNode("Not a valid UserID. "));
                }

            if (fname == "") {
                document.getElementById("results").appendChild(document.createTextNode("Please enter a first name."));
            } else if (lname == "") {
                document.getElementById("results").appendChild(document.createTextNode("Please enter a last name."));
            } else {
                document.getElementById("results").appendChild(document.createTextNode(fname + " " + lname + " " + " you've been alive for " + dateDiff(bday) + " days."));
            }

            if (dateDiff(bday) < (365 * 18)) {
                document.getElementById("results").appendChild(document.createTextNode(" You are not old enough to take this class."));
            }

            for (let i = 0; i < 20; i++) {
                x += "X";
                document.getElementById("Xs").appendChild(document.createTextNode(x));
                document.getElementById("Xs").appendChild(document.createElement('br'));
            }
        }

        function dateDiff(bday) {
            let diff = Math.abs(Date.now() - bday.getTime());
            console.log(Date.now());
            return Math.ceil(diff / 86400000);
        }
    // put your JavaScript code to read HTML inputs
    // and validate inputs here using if statements
    // and document.getElementById().innerHTML to display results
    // write your JS functions here
    // write your JS Loop For here to print the Xs
    // use something like document.write(str.padStart(i,"x") + "<br>");

    </script>
</body>

</html>